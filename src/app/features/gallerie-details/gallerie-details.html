@if (gallerieDetails.isLoading()) {
    <app-details-skeleton />
} @else if (gallerieDetails.error()) {
    <app-details-error (goBack)="_goBack()" />
} @else if (gallerieDetails.value(); as artwork) {
    <div class="max-w-3xl mx-auto">
        <div class="mb-6">
            <button
                type="button"
                class="size-10 rounded-full border-[1.5px] border-gray-200 bg-white cursor-pointer flex items-center justify-center text-gray-500 transition-all duration-200 hover:border-gray-900 hover:text-gray-900"
                (click)="_goBack()"
                aria-label="Go back"
            >
                <svg class="size-[18px]" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <title>Go back</title>
                    <path d="M19 12H5" /><path d="m12 19-7-7 7-7" />
                </svg>
            </button>
        </div>

        @if (artwork.imageUrl) {
            <div class="relative mb-7 overflow-hidden rounded-lg shadow-md aspect-4/3">
                <img
                    class="object-contain"
                    [ngSrc]="artwork.imageUrl"
                    alt=""
                    [alt]="artwork.title"
                    [style.background]="artwork.lqip ? 'url(' + artwork.lqip + ') center/cover' : null"
                    fill
                    priority
                />
            </div>
        }

        <h1 class="font-display text-[clamp(1.6rem,3vw,2rem)] font-normal leading-tight text-gray-900 mb-1.5">
            {{ artwork.title }}
        </h1>
        <p class="text-body text-gray-500 tracking-[0.02em] mb-6">
            {{ artwork.artist }}
        </p>

        <div class="grid grid-cols-[auto_1fr] items-center gap-x-16 gap-y-8 mb-7 pb-7 border-b border-gray-100">
            @if (artwork.year) {
                <span class="text-label uppercase tracking-widest text-gray-400 font-medium">Year</span>
                <span class="text-body-sm text-gray-900">{{ artwork.year }}</span>
            }
            @if (artwork.medium) {
                <span class="text-label uppercase tracking-widest text-gray-400 font-medium">Medium</span>
                <span class="text-body-sm text-gray-900">{{ artwork.medium }}</span>
            }
            @if (artwork.dimensions) {
                <span class="text-label uppercase tracking-widest text-gray-400 font-medium">Dimensions</span>
                <span class="text-body-sm text-gray-900">{{ artwork.dimensions }}</span>
            }
            @if (artwork.collection) {
                <span class="text-label uppercase tracking-widest text-gray-400 font-medium">Collection</span>
                <span class="text-body-sm text-gray-900">{{ artwork.collection }}</span>
            }
            @if (artwork.categories) {
                <span class="text-label uppercase tracking-widest text-gray-400 font-medium">Categories</span>
                <span class="text-body-sm text-gray-900">{{ artwork.categories }}</span>
            }
        </div>

        @if (artwork.description) {
            <p class="text-body-sm leading-[1.7] text-gray-500 mb-7">
                {{ artwork.description }}
            </p>
        }

        <div class="flex flex-col xs:flex-row gap-8 pb-10">
            <button
                type="button"
                class="inline-flex items-center gap-2 py-11 px-22 bg-terracotta-500 text-white hover:shadow-[0_4px_12px_rgba(199,91,57,0.25)]' rounded-full font-body text-ui font-medium cursor-pointer transition-all duration-250 border-[1.5px] border-terracotta-500 hover:-translate-y-px"
                (click)="_toggleFavorite()"
            >
                <app-heart-icon class="size-4" [filled]="_isFavorite()" fillColor="white" />
                {{ _isFavorite() ? 'Saved' : 'Save to favorites' }}
            </button>
            <a
                class="inline-flex items-center gap-2 py-11 px-22 rounded-full font-body text-ui font-medium cursor-pointer transition-all duration-250 border-[1.5px] bg-transparent text-gray-900 border-gray-200 hover:border-gray-900 hover:-translate-y-px no-underline"
                [href]="artwork.museumUrl"
                target="_blank"
                rel="noopener"
            >
                <svg class="size-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <title>Museum page</title>
                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" /><polyline points="15 3 21 3 21 9" /><line x1="10" y1="14" x2="21" y2="3" />
                </svg>
                Museum page
            </a>
        </div>
    </div>
}
